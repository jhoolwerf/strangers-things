{"ast":null,"code":"const BASEURL = \"https://strangers-things.herokuapp.com/2207-FTB-ET-WEB-PT\";\nexport const fetchPosts = async () => {\n  try {\n    const response = await fetch(`${BASEURL}/posts`, {\n      method: 'Post',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ${token}'\n      }\n    });\n  } catch (error) {\n    console.error(\"Whoops! There was an error fetching the posts.\");\n  }\n};\nexport const loginUser = async (username, password) => {\n  try {\n    await fetch(`${BASEURL}/posts/login`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ${token}'\n      }\n    });\n  } catch (error) {\n    console.error(\"Login failed, please try again.\");\n  }\n};\nexport const registerUser = async (username, password) => {\n  try {\n    await fetch(`${BASEURL}/posts/register`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user: {\n          username: username,\n          password: password\n        }\n      })\n    });\n  } catch (error) {\n    console.error(\"User already exists. Try logging in.\");\n  }\n};\nexport const createPost = async () => {\n  try {\n    await fetch(`${BASEURL}/posts`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer TOKEN_STRING_HERE'\n      },\n      body: JSON.stringify({\n        post: {\n          title: \"My favorite stuffed animal\",\n          description: \"This is a pooh doll from 1973. It has been carefully taken care of since I first got it.\",\n          price: \"$480.00\",\n          willDeliver: true\n        }\n      })\n    });\n  } catch (error) {\n    console.error(\"Couldn't create post. Try again.\");\n  }\n};\nexport const deletePost = async (postID, token) => {\n  try {\n    await fetch(`${BASEURL}/posts/${postID}`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ${token}'\n      }\n    });\n  } catch (error) {\n    console.error(\"Delete post failed. Please try again.\");\n  }\n};","map":{"version":3,"names":["BASEURL","fetchPosts","response","fetch","method","headers","error","console","loginUser","username","password","registerUser","body","JSON","stringify","user","createPost","post","title","description","price","willDeliver","deletePost","postID","token"],"sources":["/Users/jasmine/Portfolio/Coursework/React/strangers_things/src/api/api.js"],"sourcesContent":["const BASEURL = \"https://strangers-things.herokuapp.com/2207-FTB-ET-WEB-PT\"\n\n\nexport const fetchPosts = async () => {\n    try {\n    const response = await fetch(`${BASEURL}/posts`, {\n        method: 'Post',\n        headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ${token}'\n }})\n    } catch(error) {\n        console.error(\"Whoops! There was an error fetching the posts.\")\n    }\n};\n\nexport const loginUser = async (username, password) => {\n    try {\n        await fetch(`${BASEURL}/posts/login`, {\n            method: \"POST\",\n            headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ${token}'\n  },\n});\n    } catch(error) {\n        console.error(\"Login failed, please try again.\")\n    }\n};\n\nexport const registerUser = async (username, password) => {\n    try {\n        await fetch(`${BASEURL}/posts/register`, {\n            method: \"POST\",\n            headers: {\n            'Content-Type': 'application/json',\n  },\n            body: JSON.stringify({\n            user: {\n                username: username,\n                password: password\n    }\n  })  \n});\n    } catch(error) {\n        console.error(\"User already exists. Try logging in.\")\n    }\n};\n\nexport const createPost = async () => {\n    try {\n        await fetch(`${BASEURL}/posts`, {\n            method: \"POST\",\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': 'Bearer TOKEN_STRING_HERE'\n            },\n            body: JSON.stringify({\n              post: {\n                title: \"My favorite stuffed animal\",\n                description: \"This is a pooh doll from 1973. It has been carefully taken care of since I first got it.\",\n                price: \"$480.00\",\n                willDeliver: true\n            }\n        })\n    });\n        } catch(error) {\n        console.error(\"Couldn't create post. Try again.\")\n    }\n};\n\nexport const deletePost = async (postID, token) => {\n    try {\n        await fetch(`${BASEURL}/posts/${postID}`, {\n            method: \"PATCH\",\n            headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ${token}'\n  },\n});\n    } catch(error) {\n        console.error(\"Delete post failed. Please try again.\")\n    }\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAG,2DAA2D;AAG3E,OAAO,MAAMC,UAAU,GAAG,YAAY;EAClC,IAAI;IACJ,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEH,OAAQ,QAAO,EAAE;MAC7CI,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACT,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAE;MACxB;IAAC,CAAC,CAAC;EACA,CAAC,CAAC,OAAMC,KAAK,EAAE;IACXC,OAAO,CAACD,KAAK,CAAC,gDAAgD,CAAC;EACnE;AACJ,CAAC;AAED,OAAO,MAAME,SAAS,GAAG,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACnD,IAAI;IACA,MAAMP,KAAK,CAAE,GAAEH,OAAQ,cAAa,EAAE;MAClCI,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACT,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAE;MAC3B;IACF,CAAC,CAAC;EACE,CAAC,CAAC,OAAMC,KAAK,EAAE;IACXC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAC;EACpD;AACJ,CAAC;AAED,OAAO,MAAMK,YAAY,GAAG,OAAOF,QAAQ,EAAEC,QAAQ,KAAK;EACtD,IAAI;IACA,MAAMP,KAAK,CAAE,GAAEH,OAAQ,iBAAgB,EAAE;MACrCI,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACT,cAAc,EAAE;MAC1B,CAAC;MACSO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACrBC,IAAI,EAAE;UACFN,QAAQ,EAAEA,QAAQ;UAClBC,QAAQ,EAAEA;QACtB;MACF,CAAC;IACH,CAAC,CAAC;EACE,CAAC,CAAC,OAAMJ,KAAK,EAAE;IACXC,OAAO,CAACD,KAAK,CAAC,sCAAsC,CAAC;EACzD;AACJ,CAAC;AAED,OAAO,MAAMU,UAAU,GAAG,YAAY;EAClC,IAAI;IACA,MAAMb,KAAK,CAAE,GAAEH,OAAQ,QAAO,EAAE;MAC5BI,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAE;MACnB,CAAC;MACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBG,IAAI,EAAE;UACJC,KAAK,EAAE,4BAA4B;UACnCC,WAAW,EAAE,0FAA0F;UACvGC,KAAK,EAAE,SAAS;UAChBC,WAAW,EAAE;QACjB;MACJ,CAAC;IACL,CAAC,CAAC;EACE,CAAC,CAAC,OAAMf,KAAK,EAAE;IACfC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAC;EACrD;AACJ,CAAC;AAED,OAAO,MAAMgB,UAAU,GAAG,OAAOC,MAAM,EAAEC,KAAK,KAAK;EAC/C,IAAI;IACA,MAAMrB,KAAK,CAAE,GAAEH,OAAQ,UAASuB,MAAO,EAAC,EAAE;MACtCnB,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE;QACT,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAE;MAC3B;IACF,CAAC,CAAC;EACE,CAAC,CAAC,OAAMC,KAAK,EAAE;IACXC,OAAO,CAACD,KAAK,CAAC,uCAAuC,CAAC;EAC1D;AACJ,CAAC"},"metadata":{},"sourceType":"module"}